# Path Planning Configuration
# Strategy: Pilz (fast) -> OMPL/Cartesian fallback (obstacle avoidance)

path_planning_action_server:
  ros__parameters:
    # Robot Configuration
    robots:
      robot1:
        planning_group: robot1_ur_manipulator
        end_effector_link: robot1_tcp
      robot2:
        planning_group: robot2_ur_manipulator
        end_effector_link: robot2_tcp

    # Pilz Planner (primary)
    planning:
      default_frame: world
      allowed_time: 5.0

    # OMPL Fallback (for MoveJ obstacle avoidance)
    ompl:
      planner_id: RRTConnect
      num_attempts: 10
      allowed_time: 10.0

    # Cartesian Path Fallback (for MoveL)
    cartesian:
      max_step: 0.005          # Reduced from 0.01 for finer resolution
      min_fraction: 0.80       # Reduced from 0.95 to accept partial paths

    # Velocity/Acceleration Scaling (0.0 - 1.0)
    velocity_scaling:
      ptp: 0.3
      lin: 0.15                # Increased from 0.05 for faster cube spinning

    acceleration_scaling:
      ptp: 0.3
      lin: 0.15                # Increased from 0.05 for faster cube spinning

    # Goal Tolerances
    tolerances:
      position: 0.001   # meters
      orientation: 0.01 # radians
      joint: 0.01       # radians
