# Path Planning Configuration
# - MoveJ/MoveJJoints: OMPL planner for joint-space motions
# - MoveL/MoveLJoints: computeCartesianPath for linear motions with collision checking

path_planning_action_server:
  ros__parameters:
    # Robot configuration
    robots:
      robot1:
        planning_group: robot1_ur_manipulator
        end_effector_link: robot1_tcp
      robot2:
        planning_group: robot2_ur_manipulator
        end_effector_link: robot2_tcp

    # OMPL Planning parameters (for MoveJ/MoveJJoints)
    planning:
      # Number of planning attempts per retry
      num_attempts: 30
      # Maximum time allowed for planning (seconds)
      allowed_time: 20.0
      # Default reference frame
      default_frame: world
      # OMPL planner algorithm (RRTConnect, RRT*, PRM, BiTRRT, etc.)
      planner_id: RRTConnect

      # Retry configuration for robust planning
      retry:
        # Maximum number of planning retries when IK/planning fails
        max_retries: 1
        # Delay between retries (seconds) - allows IK seed randomization
        delay_between_retries: 0.5

    # Cartesian path settings (for MoveL/MoveLJoints)
    cartesian:
      # Maximum step size for waypoint interpolation (meters)
      # Smaller = more waypoints = smoother path but slower planning
      max_step: 0.01
      # Jump threshold (0.0 = disabled, recommended for UR robots)
      # Detects and rejects paths with large joint jumps
      jump_threshold: 0.0
      # Check for collisions along the path
      avoid_collisions: true
      # Minimum fraction of path that must be achieved (0.0-1.0)
      # If less than this fraction is collision-free, planning fails
      min_fraction: 0.95

    # Velocity and acceleration scaling (0.0 - 1.0)
    velocity_scaling:
      ptp: 0.5      # Point-to-point (MoveJ) motions
      linear: 0.3   # Linear Cartesian (MoveL) motions

    acceleration_scaling:
      ptp: 0.5
      linear: 0.3

    # Goal tolerances
    tolerances:
      # Position tolerance (meters)
      position: 0.001
      # Orientation tolerance (radians)
      orientation: 0.01
      # Joint tolerance (radians)
      joint: 0.01
